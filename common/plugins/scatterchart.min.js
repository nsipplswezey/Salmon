function scatterchart(q,g,M,e,u,N,K,I,O,C){var a,b;var K=(K)?K:3;var i=(N)?N:{top:10,bottom:40,left:30,right:10};var a,b,G,F,s,k,f,L=[];var n=function(m){return m.x};var h=function(m){return m.y};var H=I;var z,v;var d=(C==null)?true:C;var D;function j(m,r){a=m-i.left-i.right;b=r-i.top-i.bottom;G=d3.scale.linear().range([0,a]);F=d3.scale.linear().range([b,0]);s=d3.svg.axis().scale(G).orient("bottom");k=d3.svg.axis().scale(F).orient("left").ticks(10)}function t(){v=z=d3.select(q);v.select("table").remove();v.select("svg").remove();if(H){z=z.append("table").append("tr").append("caption").text(H).append("td")}f=z.append("svg").attr("width",a+i.left+i.right).attr("height",b+i.top+i.bottom).append("g").attr("class","schart").attr("transform","translate("+i.left+","+i.top+")");D=v.append("div").attr("class","tooltip").style("opacity",0)}function A(){o();var r=f.append("g").attr("class","x axis").attr("transform","translate(0,"+b+")").call(s);var m=f.append("g").attr("class","y axis").call(k);if(e){r.append("text").attr("transform","translate(0,30)").attr("x","20").attr("dx",".79em").style("text-anchor","end").text(e)}if(u){m.append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").text(u)}}function o(){if(L.length==0){G.domain([0,a]);F.domain([0,b])}else{var m=d3.extent(L,n);var r=d3.extent(L,h);G.domain(m);F.domain(r)}v.select(".x.axis").call(s);v.select(".y.axis").call(k)}function E(){var m=f.selectAll(".scatter").data(L);m.enter().append("g").attr("class","scatter").append("circle").attr("cx",n).attr("cy",h).attr("r",K).attr("fill","steelblue").on("mouseover",function(r){D.transition().duration(200).style("opacity",0.9);D.html("["+n(r)+", "+h(r)+"]").style("left",(d3.event.pageX+5)+"px").style("top",(d3.event.pageY-28)+"px")}).on("mouseout",function(r){D.transition().duration(500).style("opacity",0)});m.exit().remove();if(d){m.select("circle").transition().attr("cx",function(r){return G(r.x)}).attr("cy",function(r){return F(r.y)})}else{m.select("circle").attr("cx",function(r){return G(r.x)}).attr("cy",function(r){return F(r.y)})}}function w(){L=[];datamap=new Object()}function l(m,r){j(m,r);A();E()}function B(m){L=m;o();E()}function J(m){if(m){data=m}else{w()}j(g,M);t();A()}function c(r,m){return"s"+r+":"+m}function p(){return L}J();return{render:B,reset:J,getData:p}};